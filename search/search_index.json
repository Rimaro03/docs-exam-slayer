{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Exam Slayer - Final course exam project","text":"<p>Full documentation of the project. Check out the source code here</p>"},{"location":"#brief-description","title":"Brief description","text":"<p>Exam Slayer is a 2D graphical adventure game, set in various UniPD classrooms. The goal of the game is to graduate: as in real life, to achieve such goal you need to pass some exams, represented in the game as boss to defeat.</p>"},{"location":"#how-to-play","title":"How to play","text":"<p>The game consists of three levels, which represent three academical years. To complete the game, you need to pass each level by collecting enough CFUs, dropped by each boss you defeat.</p> <p>Finally, during the gameplay, you can collect and use the items you find, for example spending money on the vending machiens to buy upgrades.</p>"},{"location":"#installation-and-execution","title":"Installation and execution","text":"<p>To download the game in <code>.jar</code> format, get the last release from here.</p> <p>If you want to compile the game yourself, make sure you have <code>git</code> installed, the follow these instructions: <pre><code>git clone https://github.com/UNI-projects-team/exam-slayer\ncd exam-slayer\nmvn clean compile assembly:single\njava -jar target/Progetto-edids-1.0.0-jar-with-dependencies.jar\n</code></pre> The compilation process is automated with Maven, which create the <code>.jar</code> file in the <code>target/</code> directory inside the project root.</p>"},{"location":"#technologies-used","title":"Technologies used","text":"Name Version Description Lombok 1.18.32 Java library that writes code like getters automatically Junit 4.13.2 Java framework used for developer-side testing on the JVM Maven 3.9.6 Software that manages the project's build and its dependecies Java Swing 1.4.2 Graphic framework for Java, used to develop the GUI"},{"location":"#project-structure","title":"Project structure","text":""},{"location":"#world-generation","title":"World generation","text":"<p>Each time a new game is created, a random map is generated; the map generation is handled with the <code>wave function collapse algorithm</code>.  Breaf explanation of how it works: lets consider a grid that has to be filled following some rules. At first, the algorithm considers that every grid cells is potentially in every state permitted by the rules. In every loop, the algorithm sets the state for a specific cell, restricting the states the nearby cells could be by removing the invalid ones. The result is a grid filled following the rules. For a more detailed explenation, refer to this video.</p>"},{"location":"#colliders","title":"Colliders","text":""},{"location":"#controllers","title":"Controllers","text":""},{"location":"#final-notes","title":"Final notes","text":"<ul> <li>Class Diagram The class diagram has been divided into three parts (main, level, items) so that its easier to read it. Keeping it united would have resulted in a too small diagram.</li> </ul>"},{"location":"class/","title":"Class diagrams","text":"<pre><code>classDiagram\n  class Main {\n    +static  main(String[])\n  }\n  class Application {\n    -static Application instance\n    -Window window\n    -Application()\n    +static getWindow() Window\n    +static  init()\n    +static  run()\n    - initInternal()\n    - runInternal()\n    - setup()\n    -windowCenteredX() int\n    -windowCenteredY() int\n  }\n  class Window {\n    -int width, height\n    +Window(int width, int height)\n    +update()\n    -paintComponent(Graphics g)\n    -setup()\n    +componentResized(ComponentEvent e)\n    +componentMoved(ComponentEvent e)\n    +componentShown(ComponentEvent e)\n    +componentHidden(ComponentEvent e)\n  }\n  class Game {\n    -static Game currentGame\n    -Level currentLevel\n    -SavingIO savingIO\n    +static final ArrayList&lt;Item&gt; allitems\n    -game()\n    +static Game loadNewGame() Game\n    +static Level getCurrentLevel() Level\n    +static getSavingIO(): SavingIO\n    +static getCurrentLevel(): Level\n    +start()\n    +update()\n  }\n  class SavingIO {\n    -final String path\n    -final StringBuilder text\n    +SavingIO(String path)\n    +flush()\n    +setInt(String name, int value)\n    +setFloat(String name, float value)\n    +setLong(String name, long value)\n    +setVec2Int(String name, Vec2Int value)\n    +setVec2IntList(String name, List&lt;Vec2Int&gt; list)\n    +getInt(String name): Integer\n    +getFloat(String name): Float\n    +getLong(String name): Long\n    +getVec2Int(String name): Vec2Int\n    +getVec2IntList(String name): List&lt;Vec2Int&gt;\n    -set(String name, String savingString)\n    -get(String name): String\n    -listToSaveString(List&lt;? extends Savable&lt;?&gt;&gt; list): String\n    -elementsCount(String text):int\n    -getText(): StringBuilder\n    -startIndex(String name): int\n    -endIndex(int startIndex): int\n  }\n  class Level {\n    -Room currentRoom\n    -final List&lt;Room&gt; bossRooms\n    -final Physics physicsEngine\n    -final long seed\n    -Room previousRoom\n    +Level(Room startRoom, List&lt;Room&gt; bossRooms)\n    +updateToSavedData()\n    +save()\n    + changeRoom(int direction)\n    + instantiateGameObject(GameObject gameObject, Vec2 position)\n    + destroyGameObject(GameObject gameObject)\n    + init()\n    + update()\n  }\n  class Item {\n    &lt;&lt;Abstract&gt;&gt;\n    -String name\n    -int weight\n    -String physicalPath\n    -String inventoryPath\n    -BufferedImage inventoryImage\n    +Item(String name, int weight, String physicalPath, String inventoryPath)\n    +abstract  use()\n    +abstract  update()\n  }\n  class Room{\n    +static final float SIZE\n    -final ArrayList&lt;GameObject&gt; gameObjects\n    -final Room[] adjacentRooms\n    -boolean initialized\n    -InitType initType\n    -final int x, y\n    +Room(int x, int y)\n    +setAdjacentRoom(int direction, Room room)\n    +getAdjacentRoom(int direction) Room\n    +getGameObject(String name) GameObject\n    +addGameObject(GameObject gameObject)\n    +removeGameObject(GameObject gameObject)\n    +setEnabled(boolean enabled)\n    +init()\n    +updateGameObjects()\n    +toString() String\n  }\n  class Physics {\n    -final ArrayList&lt;Collider&gt; colliders\n    +Physics()\n    +addCollider(Collider collider)\n    +removeCollider(Collider collider)\n    +update()\n  }\n  class GameObject {\n    -String name\n    -ArrayList&lt;Component&gt; components\n    -Vec2 position\n    -boolean enabled\n    +GameObject(String name)\n    +GameObject(String name, Vec2 position)\n    +setEnabled(boolean enabled)\n    +addComponent(Component component)\n    +removeComponent(Component component)\n    +getComponent(Class&lt;? extends Component&gt; clazz) Component\n    +start()\n    +update()\n    +destroy()\n    +toString() String\n  }\n  class Collider {\n    -boolean movable\n    -ArrayList&lt;Collider&gt; ignoreColliders\n    +Collider(GameObject gameObject, boolean enabled, boolean movable)\n    +Collider(GameObject gameObject, boolean movable)\n    +abstract collidesWith(Collider other) boolean\n    +abstract onCollide(Collider other)\n  }\n  class Component {\n    -String name\n    -ArrayList&lt;Component&gt; components\n    -Vec2 position\n    -boolean enabled\n    +GameObject(String name)\n    +GameObject(String name, Vec2 position)\n    +setEnabled(boolean enabled)\n    +addComponent(Component component)\n    +removeComponent(Component component)\n    +getComponent(Class&lt;? extends Component&gt; clazz) Component\n    +start()\n    +update()\n    +destroy()\n    +toString() String\n  }\n  class Vec2 {\n    -float x\n    -float y\n    +Vec2(float x, float y)\n    +add(Vec2 other) Vec2\n    +subtract(Vec2 other) Vec2\n    +multiply(float scalar) Vec2\n    +divide(float scalar) Vec2\n    +dot(Vec2 other) float\n    +magnitude() float\n    +normalized() Vec2\n    +distance(Vec2 other) float\n    +copy() Vec2\n    +equals(Object o) boolean\n    +clamp(Vec2 value, Vec2 min, Vec2 max) Vec2\n    +toString() String\n  }\n\n  class Heart{\n    -final int health\n    +Heart(String name, int weight, String physicalPath, \\nString invetoryPath, int health)\n    + use()\n    + update()\n  }\n  class Sword {\n    -final int damage\n    +Sword(String name, int weight, String physicalPath, \\nString inventoryPath, int damage)\n    + use()\n    + update()\n  }\n\n  Main--&gt;Application: launches\n  Application *-- Game: instantiates and contains\n  Application --* Window: contains\n  Game *-- Item: contains many\n  Game *-- Level: instanciates and contains\n  Game *-- SavingIO: instaciates and contains\n  Level *-- Room: contains many\n  Level *-- Physics: contains\n  Room *-- GameObject: contains many\n  Physics *-- Collider: contains many\n  GameObject *-- Component: contains many\n  GameObject *-- Vec2: contains\n  Component *-- Vec2: contains\n  Heart --|&gt; Item: is a\n  Sword --|&gt; Item: is a\n\n  Room *-- GameObject: contains many\n  Room --|&gt; GameObjectFactory: uses\n  Room --|&gt; BoxCollider: uses\n  Room --|&gt; Collider: uses\n  Room --|&gt; Direction: uses\n  Room *-- InvalidDirectionException: throws\n  Room *-- Vec2: contains\n\n  Level --|&gt; Algorithm: uses  \n  Level *-- SavingIO: contains\n  Level *-- Vec2Int: contains\n  Level *-- GameObject: contains\n  Level --|&gt; WaveFunctionCollapse: uses\n\n  LevelGenerator --|&gt; GenerationSettings: uses\n  LevelGenerator *-- Room: has many\n  LevelGenerator *-- IllegalArgumentException: throws\n  LevelGenerator *-- SuperRoom: has many\n  LevelGenerator --|&gt; Algorithm: uses\n  LevelGenerator --|&gt; GenerationFailedException: catches\n  LevelGenerator --|&gt; RoomState: uses\n  LevelGenerator --|&gt; WaveFunctionCollapse: uses\n\n  RoomState --|&gt; Direction: uses\n\n  SuperRoom *-- RoomState: has many\n  SuperRoom --|&gt; GenerationFailedException: throws\n  SuperRoom --|&gt; IllegalArgumentException: throws\n  SuperRoom --|&gt; IllegalStateException: throws\n  SuperRoom --|&gt; GenerationSettings: uses\n\n  WaveFunctionCollapse *-- SuperRoom: contains many\n  WaveFunctionCollapse *-- Room: contains many\n  WaveFunctionCollapse --|&gt; GenerationFailedException: throws\n  WaveFunctionCollapse *-- RoomState: contains and uses\n\n  Algorithm *-- RoomDistancePair: contains many\n  Algorithm *-- Room: contains many</code></pre>"},{"location":"system_test/","title":"Sistem Test Document","text":""},{"location":"unit_test/","title":"Unit Test Document","text":""},{"location":"design/class_diagrams/","title":"Class diagrams","text":""},{"location":"design/class_diagrams/#saving-system-class-diagram","title":"Saving system class diagram","text":"<pre><code>classDiagram\n  SavingIO --* Vec2Int: contains many\n  SavingIO --&gt; ListReader: uses\n\n  Savable ..|&gt; ListReader</code></pre>"},{"location":"design/class_diagrams/#items-class-diagram","title":"Items class diagram","text":"<pre><code>classDiagram\n  Item ..|&gt; Heart\n  Item ..|&gt; Sword</code></pre>"},{"location":"design/class_diagrams/#generation-class-diagram","title":"Generation class diagram","text":"<pre><code>classDiagram\n  LevelGenerator --&gt; GenerationSettings: uses\n  LevelGenerator --* Room: has many\n  LevelGenerator --* IllegalArgumentException: throws\n  LevelGenerator --* SuperRoom: has many\n  LevelGenerator --&gt; Algorithm: uses\n\n  SuperRoom --* RoomState: has many\n  SuperRoom --&gt; GenerationFailedException: throws\n  SuperRoom --&gt; IllegalArgumentException: throws\n  SuperRoom --&gt; IllegalStateException: throws\n\n  WaveFunctionCollapse --* SuperRoom: contains many\n  WaveFunctionCollapse --* Room: contains many\n  WaveFunctionCollapse --&gt; GenerationFailedException: throws\n  WaveFunctionCollapse --&gt; Direction: uses\n\n  Algorithm --* RoomDistancePair: contains many\n  Algorithm --* Room: contains many</code></pre>"},{"location":"design/class_diagrams/#core-class-diagram","title":"Core class diagram","text":"<pre><code>classDiagram\n  Main --&gt; Application: launches\n\n  Application --* Window: contains\n  Application --* Game: contains, initializes\n  Application --&gt; Time: uses\n\n  Game --* Level: contains\n  Game --* SavingIO: contains\n  Game --* Item: contains many\n  Game --&gt; LevelGenerator: uses\n  Game --&gt; GenerationSettings: uses\n\n  Window --&gt; Renderer: uses\n  Window --&gt; Application: uses\n\n  Physics --* Colliders: contains many\n\n  Input --&gt; Application: uses\n  Input --* KeyInput: contains (nested?)\n  Input --* MouseInput: contains (nested?)\n\n  Renderer --&gt; Application: uses</code></pre>"},{"location":"design/class_diagrams/#core-rendering-class-diagram","title":"Core Rendering class diagram","text":"<pre><code>classDiagram\n  Renderable --* Comparator: contains (nested?)\n  Renderable &lt;|-- RenderableCircle\n  Renderable &lt;|-- RenderableImage\n  Renderable &lt;|-- RenderableRectangle\n  Renderable &lt;|-- RenderableText\n\n\n  Application &lt;-- Renderer\n  Renderable *-- Renderer\n  Comparator *-- Renderer\n  RenderableCircle *-- Renderer\n  RenderableImage *-- Renderer\n  RenderableRectangle *-- Renderer\n  RenderableText *-- Renderer\n\n  RenderableRectangle --&gt; Renderer: uses\n\n  RenderableCircle --&gt; Renderer: uses\n\n  RenderableImage --&gt; Renderer: uses\n\n  RenderableText --&gt; Renderer: uses</code></pre>"},{"location":"design/class_diagrams/#component-class-diagram","title":"Component class diagram","text":"<pre><code>classDiagram\n  GameObject --* Component: contains many\n\n  GameObjectFactory --* GameObject: contains many\n  GameObjectFactory --* PlayerStats: contains\n  GameObjectFactory --* EntityStats: contains\n  GameObjectFactory --* AnimatedSpriteRenderer: contains\n  GameObjectFactory --* PlayerController: contains\n  GameObjectFactory --* PlayerShootingController: contains\n  GameObjectFactory --* BoxCollider: contains\n  GameObjectFactory --* DoorCollider: contains\n  GameObjectFactory --* ProjectileCollider: contains\n  GameObjectFactory --* Projectile: contains\n  GameObjectFactory --* ItemController: contains\n  GameObjectFactory --* ItemCollider: contains\n  GameObjectFactory --&gt; Collider: uses\n  GameObjectFactory --&gt; WeaponData: uses\n\n  Component --* GameObject: contains\n\n  ItemController --|&gt; Component: extends\n  ItemController --&gt; GameObject: uses\n  ItemController --* Item: contains\n\n  PlayerController --|&gt; Component: extends\n  PlayerController --&gt; Time: uses\n  PlayerController --&gt; Input: uses\n  PlayerController --&gt; GameObject: uses\n  PlayerController --* PlayerStats: contains\n  PlayerController --* AnimatedSpriteRenderer: contains\n\n  Projectile --|&gt; Component: extends\n  Projectile --&gt; Time: uses\n  Projectile --&gt; GameObject: uses\n\n  AnimatedSpriteRenderer --|&gt; Component\n  AnimatedSpriteRenderer --&gt; Renderer: uses\n  AnimatedSpriteRenderer --&gt; GameObject: uses\n</code></pre>"},{"location":"design/class_diagrams/#component-colliders-class-diagram","title":"Component Colliders class diagram","text":"<pre><code>classDiagram\n  Collider --&gt; GameObject: uses\n\n  AbstractBoxCollider --|&gt; Collider: extends\n  AbstractBoxCollider --&gt; GameObject: uses\n  AbstractBoxCollider --&gt; Collider: uses\n  AbstractBoxCollider --* AbstractCircleCollider: contains\n  AbstractBoxCollider --&gt; CircleCollider: uses\n\n  AbstractCircleCollider --|&gt; Collider: extends\n  AbstractCircleCollider --&gt; GameObject: uses\n  AbstractCircleCollider --&gt; Collider: uses\n\n  BoxCollider --|&gt; AbstractBoxCollider: extends\n  BoxCollider --&gt; GameObject: uses\n  BoxCollider --&gt; Collider: uses\n  BoxCollider --* CircleCollider: contains\n\n  CircleCollider --|&gt; AbstractCircleCollider: extends\n  CircleCollider --&gt; GameObject: uses\n  CircleCollider --&gt; AbstractBoxCollider: uses\n  CircleCollider --* BoxCollider: contains\n\n  DoorCollider --|&gt; AbstractBoxCollider: extends\n  DoorCollider --&gt; GameObject: uses\n  DoorCollider --&gt; Collider: uses\n\n  ItemCollider --|&gt; BoxCollider: extends\n  ItemCollider --&gt; GameObject: uses\n  ItemCollider --&gt; AnimatedSpriteRenderer: uses\n  ItemCollider --&gt; Collider: uses\n  ItemCollider --* PlayerStats: contains\n  ItemCollider --* Item: contains\n\n  ProjectileCollider --|&gt; AbstractBoxCollider: extends\n  ProjectileCollider --* GameObject: contains\n  ProjectileCollider --* Projectile: contains\n  ProjectileCollider --* Stats: contains</code></pre>"},{"location":"design/class_diagrams/#component-stats-class-diagram","title":"Component Stats class diagram","text":"<pre><code>classDiagram\n  Stats --|&gt; Component: extends\n  Stats --&gt; Game: uses\n  Stats --&gt; GameObject: uses\n\n  PlayerStats --|&gt; Stats: extends\n  PlayerStats --&gt; Renderer: uses\n  PlayerStats --&gt; GameObject: uses\n  PlayerStats --&gt; Heart: uses\n  PlayerStats --* Item: contains many\n\n  Stats &lt;|-- EntityStats: extends\n  EntityStats --&gt; GameObject: uses</code></pre>"},{"location":"design/class_diagrams/#component-weapons-class-diagram","title":"Component Weapons class diagram","text":"<pre><code>classDiagram\n  PlayerShootingController --|&gt; Component: extends\n  PlayerShootingController --&gt; Time: uses\n  PlayerShootingController --&gt; Input: uses\n  PlayerShootingController --&gt; Game: uses\n  PlayerShootingController --&gt; GameObjectFactory: uses\n  PlayerShootingController --&gt; WeaponData: uses\n  PlayerShootingController --* GameObject: contains\n\n  WeaponData --&gt; WeaponType: uses</code></pre>"},{"location":"design/class_diagrams/#utils-class-diagram","title":"Utils class diagram","text":"<pre><code>classDiagram\n  Vec2Int ..|&gt; Savable: implements</code></pre>"},{"location":"design/domain_model/","title":"Domain model","text":"<pre><code>classDiagram\n    player --&gt; room: moves between\n    player --&gt; item: interact with\n    player --&gt; fixed_item: interact with\n    player --&gt; entity: interact with\n    player --&gt; save_load: use\n    player --&gt; win: views\n    save_load --&gt; game: save/loads\n    game --&gt; win: notifies\n    game --&gt; map: has\n    map --&gt; room: contains\n    map --&gt; entity: contains\n    map --&gt; item: contains\n    map --&gt; fixed_item: contains\n\n    class player {\n        stats\n        inventory\n    }</code></pre>"},{"location":"design/sequence_diagrams/","title":"Sequence diagram","text":""},{"location":"design/sequence_diagrams/#system-sequence-diagram","title":"System Sequence diagram","text":"<pre><code>sequenceDiagram\n  Actor Player\n  Game -&gt;&gt; Player: asks new game or load one?\n  alt new game\n    Game -&gt;&gt; Game: start new game\n  else load one\n    Game -&gt;&gt; Game: load existing saving\n  end\n  loop  \n    Game-&gt;&gt;Game: refresh the map\n    Player -&gt;&gt; Game: moves in the map\n    Game -&gt;&gt; Player: update player position\n    alt went through a door?\n      Game-&gt;&gt;Player: change room displayed\n    end\n    Player -&gt;&gt; Game: shoots\n    alt hits entity &amp; entity life = 0?\n      Game -&gt;&gt; Player: entity died\n    else\n      Game -&gt;&gt; Game: decrease entity life\n    end\n    Player -&gt;&gt; Game: collects item\n    alt collected heart?\n      Game -&gt;&gt; Player: increase life points\n    else\n      Game -&gt;&gt; Player: increas atk points\n    end\n  end</code></pre>"},{"location":"design/sequence_diagrams/#internal-sequence-diagrams","title":"Internal sequence diagrams","text":""},{"location":"design/sequence_diagrams/#movement","title":"Movement","text":"<pre><code>sequenceDiagram\n  Actor Player\n  Player -&gt;&gt; Controller: moves\n  activate Controller\n    Controller -&gt;&gt; Input: keyPressed(keyCode)\n    activate Input\n    Input -&gt;&gt; Controller: true if key pressed\n    deactivate Input\n    Controller -&gt;&gt; Controller: updates position vector\n    Controller -&gt;&gt; AnimatedSpriteRenderer: setSheetState(x,y)\n    activate AnimatedSpriteRenderer\n      AnimatedSpriteRenderer --&gt;&gt; Controller: \n    deactivate AnimatedSpriteRenderer\n    Controller -&gt;&gt; Component: setPosition(position)\n    activate Component\n      Component --&gt;&gt; Controller: \n    deactivate Component\n    Controller --&gt;&gt; Player: \n  deactivate Controller</code></pre>"},{"location":"design/sequence_diagrams/#shooting","title":"Shooting","text":"<pre><code>sequenceDiagram\n  Actor Player\n  Player -&gt;&gt; Controller: shoots\n  activate Controller\n    Controller -&gt;&gt; Input: keyPressed(keyCode)\n    activate Input\n      Input --&gt;&gt; Controller: true if key pressed\n    deactivate Input\n    Controller -&gt;&gt; GameObjectFactory: createProjectile()\n    activate GameObjectFactory\n      GameObjectFactory -&gt;&gt; GameObjectFactory: createGameObject()\n      GameObjectFactory --&gt;&gt; Controller: \n    deactivate GameObjectFactory\n    Controller -&gt;&gt; Level: instantiateGameObject\n    activate Level\n      Level -&gt;&gt; GameObject: setPosition(position)\n      activate GameObject\n        Level -&gt;&gt; GameObject: setEnabled(bool)\n        Level -&gt;&gt; GameObject: start()\n        GameObject --&gt;&gt; Level: \n      deactivate GameObject\n      Level -&gt;&gt; Room: addGameObject(gameObject)\n      activate Room\n        Room --&gt;&gt; Level: \n      deactivate Room\n      Level --&gt;&gt; Controller: \n    deactivate Level\n    Controller --&gt;&gt; Player: \n  deactivate Controller</code></pre>"},{"location":"design/sequence_diagrams/#items","title":"Items","text":""}]}